
# 前端后端连接故障排除检查表

## 🔍 问题现象
- [ ] 前端显示评估成功
- [ ] Chrome开发者工具显示请求成功
- [ ] 后端没有收到保存历史的请求
- [ ] 数据库中没有新的评估记录

## 📊 Chrome开发者工具检查
- [ ] 打开Network标签，清除日志
- [ ] 进行一次评估操作
- [ ] 查看是否有 POST /api/evaluation-history 请求
- [ ] 检查请求的URL是否指向正确的服务器
- [ ] 检查请求状态码是否为200
- [ ] 检查响应内容是否来自正确的后端

## 🔧 前端配置检查
- [ ] 检查环境变量 REACT_APP_API_URL 设置
- [ ] 检查package.json中的proxy配置
- [ ] 检查evaluationService.js中的API_BASE_URL
- [ ] 确认前端是否在正确的模式下运行

## 🌐 网络连接检查
- [ ] 后端服务是否正常启动
- [ ] 端口5001是否可访问
- [ ] 防火墙是否阻挡了请求
- [ ] CORS是否正确配置

## 🧪 测试步骤
1. 运行后端调试服务器
2. 运行连接测试脚本
3. 检查Chrome网络日志
4. 对比前端请求URL和后端地址

## 🔧 常见解决方案

### 情况1: 前端请求发到了错误的地址
**解决方案**: 设置正确的环境变量
```bash
export REACT_APP_API_URL=http://云端服务器IP:5001/api
```

### 情况2: 前端使用了开发代理
**解决方案**: 确保代理配置正确或禁用代理
```json
// package.json 中移除或修改
"proxy": "http://云端服务器IP:5001"
```

### 情况3: 网络问题
**解决方案**: 检查防火墙和端口
```bash
sudo ufw allow 5001
sudo ufw allow 3000
```

### 情况4: CORS问题
**解决方案**: 检查后端CORS配置
```python
CORS(app, origins=["http://云端服务器IP:3000"])
```
