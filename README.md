# 问AI评估系统 v2.2.0

智能问答评估系统，基于大语言模型的自动化评估平台，支持多维度评分、智能分类识别、历史记录管理和统计分析。

## 🚀 新功能特性 (v2.2.0)

### 1. 评估系统严格化 🎯
- **严格评分标准**：重新设计评估prompt，提高评分的严格程度和准确性
- **分级评分指导**：明确的分数区间指导原则（8-10分：优秀，5-7分：合格，2-4分：不足，0-1分：不合格）
- **扣分理由强制**：评分理由必须明确说明扣分原因和问题所在
- **时效性严格判断**：基于问题提出时间进行更严格的时效性评判
- **维度评分具体化**：每个维度必须提供具体分数，避免模糊评分
- **专业性强化**：针对不同分类（选股、分析、决策、信息查询）制定专门的严格标准

### 2. 分类评估优化
- **选股类问题**：要求充分的基本面分析支撑，投资策略完整，风险提示具体
- **分析类问题**：要求专业深度，数据准确性，逻辑严密性，结论客观性
- **决策类问题**：标准最严，投资建议需充分依据，风险评估全面具体
- **信息查询类**：信息准确性要求极高，相关性强，表达简洁实用

### 3. 前端评分优化
- **动态严格prompt**：前端自动生成更严格的评分prompt模板
- **评分指导集成**：将严格评分原则集成到用户界面中
- **扣分原因展示**：评估结果更清楚地展示扣分理由和改进建议

## 📋 系统功能

### 核心功能
- **智能评估**：基于DeepSeek等大语言模型的自动化评估
- **多维度评分**：支持准确性、完整性、流畅性、安全性等多个维度
- **智能分类**：自动识别问题类型并应用对应的评估标准
- **时间因素**：考虑问题提出时间对答案时效性的影响
- **标准配置**：支持自定义分类标准和评估标准

### 2.1.0 功能
- **历史管理**：完整的评估历史记录管理系统
- **统计分析**：基于历史数据的维度统计和分析
- **数据可视化**：直观的图表和进度条展示
- **筛选搜索**：支持按分类、时间等条件筛选历史记录

### 2.2.0 新增功能
- **严格评分系统**：全面提升评分的严格程度和准确性
- **分类专门标准**：针对不同问题类型的专门化严格评估标准
- **扣分理由强制**：必须明确说明每个扣分点和改进方向
- **评分指导可视化**：用户界面直观展示评分标准和指导原则

## 🛠️ 技术架构

### 前端技术栈
- **React 18**：现代化的前端框架
- **Redux Toolkit**：状态管理
- **Ant Design**：UI组件库
- **React Router**：路由管理
- **Axios**：HTTP客户端
- **Day.js**：日期处理

### 后端技术栈
- **Flask**：轻量级Web框架
- **SQLAlchemy**：ORM数据库操作
- **SQLite**：轻量级数据库
- **Python Logging**：日志记录系统

### 数据库设计
- **evaluation_history**：评估历史记录表
- **classification_standards**：分类标准表
- **evaluation_standards**：评估标准表

## 📦 安装和运行

### 环境要求
- Python 3.8+
- Node.js 16+
- npm 或 yarn

### 后端安装
```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
python app.py
```

### 前端安装
```bash
cd frontend
npm install
npm start
```

### 环境配置
创建 `backend/.env` 文件：
```env
DEEPSEEK_API_KEY=your_deepseek_api_key
DEEPSEEK_BASE_URL=https://api.deepseek.com
```

## 🎯 使用指南

### 1. 评估中心
- 输入用户问题、模型回答和参考答案
- 选择或自动识别问题分类
- 配置评估标准和维度
- 点击评估获取多维度评分结果
- **新增**：系统现在使用更严格的评分标准，分数将更真实地反映回答质量

### 2. 历史管理
- 查看所有历史评估记录
- 按分类、时间筛选记录
- 查看详细的评估结果
- 删除不需要的记录

### 3. 维度统计
- 查看总体统计概览
- 按分类查看维度表现
- 分析各维度的得分分布
- 对比不同分类的表现

## 📊 数据流程

### 评估流程
1. **输入数据**：用户问题、模型回答、参考答案
2. **智能分类**：自动识别问题类型
3. **标准匹配**：应用对应的严格评估标准
4. **LLM评估**：调用大语言模型进行严格评估
5. **结果解析**：提取总分、维度得分和详细评分理由
6. **历史保存**：自动保存到数据库

### 统计分析流程
1. **数据聚合**：从历史记录中聚合数据
2. **维度计算**：计算各维度的平均分和百分比
3. **分类统计**：按二级分类进行统计
4. **可视化展示**：生成图表和统计卡片

## 🔧 配置说明

### 严格评分标准 (v2.2.0)
系统现在采用更严格的评分标准：
- **8-10分**：仅给予信息完全准确、分析深入、表达清晰的优秀回答
- **5-7分**：基本合格但存在明显不足的回答
- **2-4分**：存在错误或质量较低的回答
- **0-1分**：严重错误或完全不合格的回答

### 评估标准格式
```
维度名称\t维度描述\t评分标准
准确性\t答案与事实完全一致\t0-4分：完全正确=4分；轻微误差=2分；重大错误=0分
完整性\t回答覆盖问题所有关键信息点\t0-3分：完全覆盖=3分；部分覆盖=1分；未覆盖=0分
```

### 分类标准
- **一级分类**：大类别（如：金融投资）
- **二级分类**：具体类型（如：选股、个股分析）
- **三级分类**：细分场景（如：技术分析、基本面分析）

## 📈 版本历史

### v2.2.0 (2025-06-01)
- 🎯 **评估系统严格化**：全面提升评分的严格程度和准确性
- ✨ 新增分级评分指导原则（8-10优秀，5-7合格，2-4不足，0-1不合格）
- ✨ 评分理由必须明确说明扣分原因和改进方向
- ✨ 针对不同分类制定专门的严格评估标准
- ✨ 时效性判断更加严格，基于问题提出时间
- 🔧 前端集成严格评分prompt生成
- 🎨 优化评估结果展示，突出扣分理由

### v2.1.0 (2025-01-XX)
- ✨ 新增评估历史管理功能
- ✨ 新增维度统计分析功能
- ✨ 新增数据可视化展示
- 🐛 修复动态维度评分问题
- 🎨 优化用户界面和交互体验

### v2.0.0 (2025-01-XX)
- ✨ 实现动态维度评分
- ✨ 支持自定义评估标准
- ✨ 智能分类识别
- 🎨 全新的UI设计

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

- [DeepSeek](https://www.deepseek.com/) - 提供强大的大语言模型API
- [Ant Design](https://ant.design/) - 优秀的React UI组件库
- [Flask](https://flask.palletsprojects.com/) - 简洁的Python Web框架

---

**Powered by React + Flask + DeepSeek LLM © 2025** 